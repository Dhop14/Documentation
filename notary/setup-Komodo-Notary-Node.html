<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setup Komodo Notary Node | Komodo Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/KMD_Mark_Black.png">
    <meta name="description" content="::: tip Disclaimer
This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to https://github.com/KomodoPlatform/dPoW/blob/master/doc for more recent updates.
:::">
    <meta name="twitter:title" content="Setup Komodo Notary Node">
    <meta name="twitter:description" content="::: tip Disclaimer
This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to https://github.com/KomodoPlatform/dPoW/blob/master/doc for more recent updates.
:::">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://docs.komodoplatform.com/notary/setup-Komodo-Notary-Node.html">
    <meta name="twitter:site" content="@komodoplatform">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Setup Komodo Notary Node">
    <meta property="og:description" content="::: tip Disclaimer
This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to https://github.com/KomodoPlatform/dPoW/blob/master/doc for more recent updates.
:::">
    <meta property="og:url" content="https://docs.komodoplatform.com/notary/setup-Komodo-Notary-Node.html">
    <meta property="og:site_name" content="Komodo Documentation">
    <meta itemprop="name" content="Setup Komodo Notary Node">
    <meta itemprop="description" content="::: tip Disclaimer
This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to https://github.com/KomodoPlatform/dPoW/blob/master/doc for more recent updates.
:::">
    <meta name="twitter:image" content="https://developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png">
    <link rel="preload" href="/assets/css/0.styles.b2782650.css" as="style"><link rel="preload" href="/assets/js/app.d7d5cb01.js" as="script"><link rel="preload" href="/assets/js/5.34627997.js" as="script"><link rel="preload" href="/assets/js/4.0f39c463.js" as="script"><link rel="preload" href="/assets/js/319.3faaf719.js" as="script"><link rel="prefetch" href="/assets/js/10.c7f8f6b1.js"><link rel="prefetch" href="/assets/js/100.c1e08516.js"><link rel="prefetch" href="/assets/js/101.3bedb134.js"><link rel="prefetch" href="/assets/js/102.00ee092b.js"><link rel="prefetch" href="/assets/js/103.baf43eaa.js"><link rel="prefetch" href="/assets/js/104.d0712769.js"><link rel="prefetch" href="/assets/js/105.2555667e.js"><link rel="prefetch" href="/assets/js/106.b83a3e5b.js"><link rel="prefetch" href="/assets/js/107.7237c1d9.js"><link rel="prefetch" href="/assets/js/108.dcbec070.js"><link rel="prefetch" href="/assets/js/109.6482e3dd.js"><link rel="prefetch" href="/assets/js/11.fdd0e188.js"><link rel="prefetch" href="/assets/js/110.33c48992.js"><link rel="prefetch" href="/assets/js/111.7389ead1.js"><link rel="prefetch" href="/assets/js/112.4a5e2c82.js"><link rel="prefetch" href="/assets/js/113.80840e1a.js"><link rel="prefetch" href="/assets/js/114.e44f6188.js"><link rel="prefetch" href="/assets/js/115.de18d379.js"><link rel="prefetch" href="/assets/js/116.5b3170e1.js"><link rel="prefetch" href="/assets/js/117.9fe6f3c4.js"><link rel="prefetch" href="/assets/js/118.9b0996c8.js"><link rel="prefetch" href="/assets/js/119.e0956ac0.js"><link rel="prefetch" href="/assets/js/12.0776ecf5.js"><link rel="prefetch" href="/assets/js/120.2102bf74.js"><link rel="prefetch" href="/assets/js/121.e18f5a28.js"><link rel="prefetch" href="/assets/js/122.f4a39cd4.js"><link rel="prefetch" href="/assets/js/123.cb4a2c7f.js"><link rel="prefetch" href="/assets/js/124.b232997b.js"><link rel="prefetch" href="/assets/js/125.3993f883.js"><link rel="prefetch" href="/assets/js/126.7bf6fd95.js"><link rel="prefetch" href="/assets/js/127.18321f43.js"><link rel="prefetch" href="/assets/js/128.2faafbb0.js"><link rel="prefetch" href="/assets/js/129.2a67943c.js"><link rel="prefetch" href="/assets/js/13.604f7960.js"><link rel="prefetch" href="/assets/js/130.9ec274bb.js"><link rel="prefetch" href="/assets/js/131.74ee3163.js"><link rel="prefetch" href="/assets/js/132.5e9f9f97.js"><link rel="prefetch" href="/assets/js/133.1879fb80.js"><link rel="prefetch" href="/assets/js/134.8500d467.js"><link rel="prefetch" href="/assets/js/135.c0afc92d.js"><link rel="prefetch" href="/assets/js/136.2c4111b2.js"><link rel="prefetch" href="/assets/js/137.3742d869.js"><link rel="prefetch" href="/assets/js/138.8dafe897.js"><link rel="prefetch" href="/assets/js/139.2ec7b3ec.js"><link rel="prefetch" href="/assets/js/14.85e1bbf6.js"><link rel="prefetch" href="/assets/js/140.b17e9d3d.js"><link rel="prefetch" href="/assets/js/141.26141b7b.js"><link rel="prefetch" href="/assets/js/142.9774730a.js"><link rel="prefetch" href="/assets/js/143.a0f549dc.js"><link rel="prefetch" href="/assets/js/144.ea5f621c.js"><link rel="prefetch" href="/assets/js/145.41e5226e.js"><link rel="prefetch" href="/assets/js/146.60609271.js"><link rel="prefetch" href="/assets/js/147.f5fedc7b.js"><link rel="prefetch" href="/assets/js/148.a344cd19.js"><link rel="prefetch" href="/assets/js/149.56b0d38a.js"><link rel="prefetch" href="/assets/js/15.1551ff68.js"><link rel="prefetch" href="/assets/js/150.41d4dc0b.js"><link rel="prefetch" href="/assets/js/151.640c508d.js"><link rel="prefetch" href="/assets/js/152.d3e1151d.js"><link rel="prefetch" href="/assets/js/153.201494f2.js"><link rel="prefetch" href="/assets/js/154.392e90fb.js"><link rel="prefetch" href="/assets/js/155.33453961.js"><link rel="prefetch" href="/assets/js/156.ea67049a.js"><link rel="prefetch" href="/assets/js/157.20fb3576.js"><link rel="prefetch" href="/assets/js/158.ad6d737b.js"><link rel="prefetch" href="/assets/js/159.4af56249.js"><link rel="prefetch" href="/assets/js/16.c4076619.js"><link rel="prefetch" href="/assets/js/160.55c50222.js"><link rel="prefetch" href="/assets/js/161.4308ced5.js"><link rel="prefetch" href="/assets/js/162.f49e654b.js"><link rel="prefetch" href="/assets/js/163.e4f93d56.js"><link rel="prefetch" href="/assets/js/164.d441fc91.js"><link rel="prefetch" href="/assets/js/165.401b9247.js"><link rel="prefetch" href="/assets/js/166.9abd8f8d.js"><link rel="prefetch" href="/assets/js/167.810c9603.js"><link rel="prefetch" href="/assets/js/168.d57a999f.js"><link rel="prefetch" href="/assets/js/169.d378f544.js"><link rel="prefetch" href="/assets/js/17.6cb036d1.js"><link rel="prefetch" href="/assets/js/170.a6ddf3f5.js"><link rel="prefetch" href="/assets/js/171.511efe92.js"><link rel="prefetch" href="/assets/js/172.cd980253.js"><link rel="prefetch" href="/assets/js/173.135394d2.js"><link rel="prefetch" href="/assets/js/174.a2e17849.js"><link rel="prefetch" href="/assets/js/175.b7296f1d.js"><link rel="prefetch" href="/assets/js/176.73414fac.js"><link rel="prefetch" href="/assets/js/177.0bba455c.js"><link rel="prefetch" href="/assets/js/178.9a6544de.js"><link rel="prefetch" href="/assets/js/179.b86ea78c.js"><link rel="prefetch" href="/assets/js/18.aa19ece6.js"><link rel="prefetch" href="/assets/js/180.9ee93f65.js"><link rel="prefetch" href="/assets/js/181.beecbbb7.js"><link rel="prefetch" href="/assets/js/182.3c78dc2e.js"><link rel="prefetch" href="/assets/js/183.d710cd30.js"><link rel="prefetch" href="/assets/js/184.48abb502.js"><link rel="prefetch" href="/assets/js/185.926dcc10.js"><link rel="prefetch" href="/assets/js/186.3854d5f6.js"><link rel="prefetch" href="/assets/js/187.30746ad0.js"><link rel="prefetch" href="/assets/js/188.9d4b5d64.js"><link rel="prefetch" href="/assets/js/189.d2068191.js"><link rel="prefetch" href="/assets/js/19.be1b3f7c.js"><link rel="prefetch" href="/assets/js/190.b7bf33da.js"><link rel="prefetch" href="/assets/js/191.4dec7cc0.js"><link rel="prefetch" href="/assets/js/192.b491284e.js"><link rel="prefetch" href="/assets/js/193.cd25634a.js"><link rel="prefetch" href="/assets/js/194.d6caa327.js"><link rel="prefetch" href="/assets/js/195.ec2a097e.js"><link rel="prefetch" href="/assets/js/196.b58efcd2.js"><link rel="prefetch" href="/assets/js/197.bed1946d.js"><link rel="prefetch" href="/assets/js/198.fa8f8dd2.js"><link rel="prefetch" href="/assets/js/199.8f0e0e78.js"><link rel="prefetch" href="/assets/js/20.6e558a40.js"><link rel="prefetch" href="/assets/js/200.608ec23a.js"><link rel="prefetch" href="/assets/js/201.d29b620d.js"><link rel="prefetch" href="/assets/js/202.7106e607.js"><link rel="prefetch" href="/assets/js/203.53e6f4a1.js"><link rel="prefetch" href="/assets/js/204.9454c088.js"><link rel="prefetch" href="/assets/js/205.7108fa43.js"><link rel="prefetch" href="/assets/js/206.56cb45c4.js"><link rel="prefetch" href="/assets/js/207.d9bf198d.js"><link rel="prefetch" href="/assets/js/208.55713d74.js"><link rel="prefetch" href="/assets/js/209.2cefe873.js"><link rel="prefetch" href="/assets/js/21.32c326e8.js"><link rel="prefetch" href="/assets/js/210.e4e46bc2.js"><link rel="prefetch" href="/assets/js/211.b5eaa951.js"><link rel="prefetch" href="/assets/js/212.3e70a084.js"><link rel="prefetch" href="/assets/js/213.da1d2824.js"><link rel="prefetch" href="/assets/js/214.c2f26a75.js"><link rel="prefetch" href="/assets/js/215.bfd540eb.js"><link rel="prefetch" href="/assets/js/216.5a9863ba.js"><link rel="prefetch" href="/assets/js/217.be198ede.js"><link rel="prefetch" href="/assets/js/218.bf4f42a1.js"><link rel="prefetch" href="/assets/js/219.d00233d3.js"><link rel="prefetch" href="/assets/js/22.62bc965f.js"><link rel="prefetch" href="/assets/js/220.254a5d5d.js"><link rel="prefetch" href="/assets/js/221.5c825ae9.js"><link rel="prefetch" href="/assets/js/222.6a138741.js"><link rel="prefetch" href="/assets/js/223.2cbc8f23.js"><link rel="prefetch" href="/assets/js/224.77fa71a5.js"><link rel="prefetch" href="/assets/js/225.e8df4a38.js"><link rel="prefetch" href="/assets/js/226.5c9500fd.js"><link rel="prefetch" href="/assets/js/227.b4a83f3b.js"><link rel="prefetch" href="/assets/js/228.11567db7.js"><link rel="prefetch" href="/assets/js/229.a5fff71b.js"><link rel="prefetch" href="/assets/js/23.7073a2c5.js"><link rel="prefetch" href="/assets/js/230.855276c4.js"><link rel="prefetch" href="/assets/js/231.9efeb4ce.js"><link rel="prefetch" href="/assets/js/232.68f5e406.js"><link rel="prefetch" href="/assets/js/233.ede96c22.js"><link rel="prefetch" href="/assets/js/234.1c5d3c13.js"><link rel="prefetch" href="/assets/js/235.1581fa52.js"><link rel="prefetch" href="/assets/js/236.266c8513.js"><link rel="prefetch" href="/assets/js/237.62bac447.js"><link rel="prefetch" href="/assets/js/238.c14c6a07.js"><link rel="prefetch" href="/assets/js/239.194f5aaa.js"><link rel="prefetch" href="/assets/js/24.ba8d698f.js"><link rel="prefetch" href="/assets/js/240.fb799aeb.js"><link rel="prefetch" href="/assets/js/241.7a2d85c4.js"><link rel="prefetch" href="/assets/js/242.4974b857.js"><link rel="prefetch" href="/assets/js/243.5b5925d6.js"><link rel="prefetch" href="/assets/js/244.986f45de.js"><link rel="prefetch" href="/assets/js/245.da8db337.js"><link rel="prefetch" href="/assets/js/246.e222e0eb.js"><link rel="prefetch" href="/assets/js/247.bd38535e.js"><link rel="prefetch" href="/assets/js/248.738832f8.js"><link rel="prefetch" href="/assets/js/249.acdf416c.js"><link rel="prefetch" href="/assets/js/25.92435cf7.js"><link rel="prefetch" href="/assets/js/250.73f7ed0e.js"><link rel="prefetch" href="/assets/js/251.553a6acb.js"><link rel="prefetch" href="/assets/js/252.f7caa03c.js"><link rel="prefetch" href="/assets/js/253.a2cc4de2.js"><link rel="prefetch" href="/assets/js/254.97a66228.js"><link rel="prefetch" href="/assets/js/255.211d4470.js"><link rel="prefetch" href="/assets/js/256.52b49d91.js"><link rel="prefetch" href="/assets/js/257.1112f01d.js"><link rel="prefetch" href="/assets/js/258.8026853d.js"><link rel="prefetch" href="/assets/js/259.e2613383.js"><link rel="prefetch" href="/assets/js/26.9f611b6b.js"><link rel="prefetch" href="/assets/js/260.be3ea2fb.js"><link rel="prefetch" href="/assets/js/261.d7dcc3d5.js"><link rel="prefetch" href="/assets/js/262.08079f71.js"><link rel="prefetch" href="/assets/js/263.7385c4a0.js"><link rel="prefetch" href="/assets/js/264.725be99f.js"><link rel="prefetch" href="/assets/js/265.c095efd6.js"><link rel="prefetch" href="/assets/js/266.27fe5fa7.js"><link rel="prefetch" href="/assets/js/267.ee68791d.js"><link rel="prefetch" href="/assets/js/268.21311034.js"><link rel="prefetch" href="/assets/js/269.4f45aa9a.js"><link rel="prefetch" href="/assets/js/27.7ce882fc.js"><link rel="prefetch" href="/assets/js/270.f0d2956d.js"><link rel="prefetch" href="/assets/js/271.209195c1.js"><link rel="prefetch" href="/assets/js/272.10ad75f4.js"><link rel="prefetch" href="/assets/js/273.7dfcb4da.js"><link rel="prefetch" href="/assets/js/274.a603f3ad.js"><link rel="prefetch" href="/assets/js/275.ffc47b76.js"><link rel="prefetch" href="/assets/js/276.a38080c9.js"><link rel="prefetch" href="/assets/js/277.b54cc865.js"><link rel="prefetch" href="/assets/js/278.c0fa8519.js"><link rel="prefetch" href="/assets/js/279.9c376e08.js"><link rel="prefetch" href="/assets/js/28.01fa8049.js"><link rel="prefetch" href="/assets/js/280.9e5269a4.js"><link rel="prefetch" href="/assets/js/281.944e3ec4.js"><link rel="prefetch" href="/assets/js/282.4eb1b2e4.js"><link rel="prefetch" href="/assets/js/283.e0bc4661.js"><link rel="prefetch" href="/assets/js/284.b4584e20.js"><link rel="prefetch" href="/assets/js/285.f5469b3b.js"><link rel="prefetch" href="/assets/js/286.14d36c7a.js"><link rel="prefetch" href="/assets/js/287.fc9949c8.js"><link rel="prefetch" href="/assets/js/288.e52ab416.js"><link rel="prefetch" href="/assets/js/289.cbd0d7b8.js"><link rel="prefetch" href="/assets/js/29.1a3b3894.js"><link rel="prefetch" href="/assets/js/290.a5183549.js"><link rel="prefetch" href="/assets/js/291.4ef2e26b.js"><link rel="prefetch" href="/assets/js/292.91932ca3.js"><link rel="prefetch" href="/assets/js/293.57a1b1dc.js"><link rel="prefetch" href="/assets/js/294.94aaba3a.js"><link rel="prefetch" href="/assets/js/295.3689e605.js"><link rel="prefetch" href="/assets/js/296.fabbf332.js"><link rel="prefetch" href="/assets/js/297.e89bac75.js"><link rel="prefetch" href="/assets/js/298.0c320590.js"><link rel="prefetch" href="/assets/js/299.522311da.js"><link rel="prefetch" href="/assets/js/30.22930c3f.js"><link rel="prefetch" href="/assets/js/300.a37122e3.js"><link rel="prefetch" href="/assets/js/301.dbc94000.js"><link rel="prefetch" href="/assets/js/302.bdc549cb.js"><link rel="prefetch" href="/assets/js/303.9b30f879.js"><link rel="prefetch" href="/assets/js/304.f1c390fc.js"><link rel="prefetch" href="/assets/js/305.d173d9ad.js"><link rel="prefetch" href="/assets/js/306.7c7b58db.js"><link rel="prefetch" href="/assets/js/307.b4eee819.js"><link rel="prefetch" href="/assets/js/308.a9f51763.js"><link rel="prefetch" href="/assets/js/309.751136e5.js"><link rel="prefetch" href="/assets/js/31.a8091290.js"><link rel="prefetch" href="/assets/js/310.63c399db.js"><link rel="prefetch" href="/assets/js/311.cdbfac12.js"><link rel="prefetch" href="/assets/js/312.c26ae537.js"><link rel="prefetch" href="/assets/js/313.e425ba88.js"><link rel="prefetch" href="/assets/js/314.6aedfc85.js"><link rel="prefetch" href="/assets/js/315.d59e76e7.js"><link rel="prefetch" href="/assets/js/316.33ed3e76.js"><link rel="prefetch" href="/assets/js/317.a0d2b230.js"><link rel="prefetch" href="/assets/js/318.a85b0720.js"><link rel="prefetch" href="/assets/js/32.fb7ba389.js"><link rel="prefetch" href="/assets/js/320.d9c5ccaf.js"><link rel="prefetch" href="/assets/js/321.e14b6e3b.js"><link rel="prefetch" href="/assets/js/322.6ac53664.js"><link rel="prefetch" href="/assets/js/323.e4cf8415.js"><link rel="prefetch" href="/assets/js/324.5142f04a.js"><link rel="prefetch" href="/assets/js/325.96b6b8b3.js"><link rel="prefetch" href="/assets/js/326.60d5e4e6.js"><link rel="prefetch" href="/assets/js/327.22fbe375.js"><link rel="prefetch" href="/assets/js/328.11343a5a.js"><link rel="prefetch" href="/assets/js/329.c91447c0.js"><link rel="prefetch" href="/assets/js/33.7b492f1b.js"><link rel="prefetch" href="/assets/js/330.c1acaf90.js"><link rel="prefetch" href="/assets/js/331.a2ade49c.js"><link rel="prefetch" href="/assets/js/332.01e0b6f2.js"><link rel="prefetch" href="/assets/js/333.d1c78568.js"><link rel="prefetch" href="/assets/js/334.1044b79a.js"><link rel="prefetch" href="/assets/js/335.f13bade0.js"><link rel="prefetch" href="/assets/js/336.eb895f14.js"><link rel="prefetch" href="/assets/js/337.8eeea74d.js"><link rel="prefetch" href="/assets/js/338.5f1023ec.js"><link rel="prefetch" href="/assets/js/339.f354f20c.js"><link rel="prefetch" href="/assets/js/34.f69d215c.js"><link rel="prefetch" href="/assets/js/340.573dc0f8.js"><link rel="prefetch" href="/assets/js/341.62539c6b.js"><link rel="prefetch" href="/assets/js/342.d5d7e16d.js"><link rel="prefetch" href="/assets/js/35.6d57d8b5.js"><link rel="prefetch" href="/assets/js/36.32f650ab.js"><link rel="prefetch" href="/assets/js/37.ab23400a.js"><link rel="prefetch" href="/assets/js/38.563df69c.js"><link rel="prefetch" href="/assets/js/39.bfba1afe.js"><link rel="prefetch" href="/assets/js/40.50e29e9e.js"><link rel="prefetch" href="/assets/js/41.3bcb8d86.js"><link rel="prefetch" href="/assets/js/42.e56fa33c.js"><link rel="prefetch" href="/assets/js/43.4ddc3df6.js"><link rel="prefetch" href="/assets/js/44.73a3f452.js"><link rel="prefetch" href="/assets/js/45.05189210.js"><link rel="prefetch" href="/assets/js/46.4d58aa98.js"><link rel="prefetch" href="/assets/js/47.056ff7c0.js"><link rel="prefetch" href="/assets/js/48.223424b6.js"><link rel="prefetch" href="/assets/js/49.4a3fe944.js"><link rel="prefetch" href="/assets/js/50.1b16e0b9.js"><link rel="prefetch" href="/assets/js/51.dcd3dd53.js"><link rel="prefetch" href="/assets/js/52.cc7d134d.js"><link rel="prefetch" href="/assets/js/53.d6f80008.js"><link rel="prefetch" href="/assets/js/54.fb56b3e2.js"><link rel="prefetch" href="/assets/js/55.3b2876ee.js"><link rel="prefetch" href="/assets/js/56.59c24aac.js"><link rel="prefetch" href="/assets/js/57.5202958d.js"><link rel="prefetch" href="/assets/js/58.4767fa98.js"><link rel="prefetch" href="/assets/js/59.78b1adf6.js"><link rel="prefetch" href="/assets/js/6.d3ea2a87.js"><link rel="prefetch" href="/assets/js/60.853c5644.js"><link rel="prefetch" href="/assets/js/61.9b7b2d6b.js"><link rel="prefetch" href="/assets/js/62.2fd4977b.js"><link rel="prefetch" href="/assets/js/63.374862ef.js"><link rel="prefetch" href="/assets/js/64.0f132200.js"><link rel="prefetch" href="/assets/js/65.f8b30a0f.js"><link rel="prefetch" href="/assets/js/66.3a572b5a.js"><link rel="prefetch" href="/assets/js/67.6201ec29.js"><link rel="prefetch" href="/assets/js/68.c3ddfc1b.js"><link rel="prefetch" href="/assets/js/69.53201dbe.js"><link rel="prefetch" href="/assets/js/7.e35b89cd.js"><link rel="prefetch" href="/assets/js/70.1fc43e93.js"><link rel="prefetch" href="/assets/js/71.5fca0b89.js"><link rel="prefetch" href="/assets/js/72.9f9afba7.js"><link rel="prefetch" href="/assets/js/73.cc778ef0.js"><link rel="prefetch" href="/assets/js/74.5efa2d57.js"><link rel="prefetch" href="/assets/js/75.e617bd6c.js"><link rel="prefetch" href="/assets/js/76.427733b6.js"><link rel="prefetch" href="/assets/js/77.8922bedb.js"><link rel="prefetch" href="/assets/js/78.de8e6faf.js"><link rel="prefetch" href="/assets/js/79.891389fc.js"><link rel="prefetch" href="/assets/js/8.fba9b6b9.js"><link rel="prefetch" href="/assets/js/80.db090c6f.js"><link rel="prefetch" href="/assets/js/81.fb7350d6.js"><link rel="prefetch" href="/assets/js/82.a6482b43.js"><link rel="prefetch" href="/assets/js/83.dbcfc6ff.js"><link rel="prefetch" href="/assets/js/84.3cc8bf37.js"><link rel="prefetch" href="/assets/js/85.4daa1c2f.js"><link rel="prefetch" href="/assets/js/86.603108fc.js"><link rel="prefetch" href="/assets/js/87.619deb81.js"><link rel="prefetch" href="/assets/js/88.21399f9a.js"><link rel="prefetch" href="/assets/js/89.83f34a45.js"><link rel="prefetch" href="/assets/js/9.4e8a474c.js"><link rel="prefetch" href="/assets/js/90.748353f1.js"><link rel="prefetch" href="/assets/js/91.cea2a9a1.js"><link rel="prefetch" href="/assets/js/92.4c961381.js"><link rel="prefetch" href="/assets/js/93.d6956231.js"><link rel="prefetch" href="/assets/js/94.88876f79.js"><link rel="prefetch" href="/assets/js/95.da9bb77e.js"><link rel="prefetch" href="/assets/js/96.760e79f5.js"><link rel="prefetch" href="/assets/js/97.9cfbd82e.js"><link rel="prefetch" href="/assets/js/98.c968892e.js"><link rel="prefetch" href="/assets/js/99.2b35b4ff.js"><link rel="prefetch" href="/assets/js/vendors~cookielaw.5a13f4fd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.b056ac5f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2782650.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/KMD_Horiz_White.svg" alt="Komodo Documentation" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basic-docs/start-here/about-komodo-platform/about-komodo-platform.html" class="nav-link">
  Start Here
</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">
  Smart Chain Essentials
</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">
  Antara Framework
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KomoDeFi" class="dropdown-title"><span class="title">KomoDeFi</span> <span class="arrow down"></span></button> <button type="button" aria-label="KomoDeFi" class="mobile-dropdown-title"><span class="title">KomoDeFi</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">
  Docs
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-legacy/rational_number_note.html" class="nav-link">
  API (Legacy)
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-20/" class="nav-link">
  API 2.0 (Master)
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-20-dev/" class="nav-link">
  API 2.0 (Dev)
</a></li></ul></div></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">
  Komodo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">
  CC Book
</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Notary Nodes
</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">
  Marketmaker V1
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">
  nSPV
</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">
  QA and Testing
</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">
  Whitepaper
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow down"></span></button> <button type="button" aria-label="Resources" class="mobile-dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">
  Komodo Platform
</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">
  Third Party
</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basic-docs/start-here/about-komodo-platform/about-komodo-platform.html" class="nav-link">
  Start Here
</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">
  Smart Chain Essentials
</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">
  Antara Framework
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KomoDeFi" class="dropdown-title"><span class="title">KomoDeFi</span> <span class="arrow down"></span></button> <button type="button" aria-label="KomoDeFi" class="mobile-dropdown-title"><span class="title">KomoDeFi</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">
  Docs
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-legacy/rational_number_note.html" class="nav-link">
  API (Legacy)
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-20/" class="nav-link">
  API 2.0 (Master)
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/atomicdex-api-20-dev/" class="nav-link">
  API 2.0 (Dev)
</a></li></ul></div></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">
  Komodo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">
  CC Book
</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Notary Nodes
</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">
  Marketmaker V1
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">
  nSPV
</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">
  QA and Testing
</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">
  Whitepaper
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow down"></span></button> <button type="button" aria-label="Resources" class="mobile-dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">
  Komodo Platform
</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">
  Third Party
</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Basics</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notary/setup-Komodo-Notary-Node.html" aria-current="page" class="active sidebar-link">Setup Komodo Notary Node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#nn-repo-quick-reference" class="sidebar-link">NN Repo Quick Reference</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#minimum-system-requirements" class="sidebar-link">Minimum System Requirements</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#creating-notary-pubkeys" class="sidebar-link">Creating notary pubkeys</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#security" class="sidebar-link">Security</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#additional-configuration-tweaks" class="sidebar-link">Additional Configuration Tweaks</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#install-iguana-coin-daemons" class="sidebar-link">Install Iguana &amp; Coin Daemons</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#install-iguana" class="sidebar-link">Install Iguana</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#install-kmd" class="sidebar-link">Install KMD</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#install-ltc" class="sidebar-link">Install LTC</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#install-third-party-coins-daemons-in-docker" class="sidebar-link">Install Third Party coins daemons in Docker</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#create-symbolic-links-for-deamons-and-cli-s" class="sidebar-link">Create Symbolic Links for deamons and cli's</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#launch-the-daemons" class="sidebar-link">Launch the daemons</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#atomicdex-seed-node-setup-optional-but-recommended" class="sidebar-link">AtomicDEX Seed node setup (optional, but recommended)</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#stop-all-coin-daemons-safely" class="sidebar-link">Stop All Coin Daemons Safely</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#restrict-access-to-config-files" class="sidebar-link">Restrict access to config files</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#address-whitelisting-optional-but-recommended" class="sidebar-link">Address whitelisting (optional, but recommended)</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#create-start-script" class="sidebar-link">Create start Script</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#start-iguana-and-begin-notarising" class="sidebar-link">Start Iguana and begin notarising</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#firewall-and-ports" class="sidebar-link">Firewall and Ports</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#nn-scripts" class="sidebar-link">NN Scripts</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#setup-for-debian-11" class="sidebar-link">Setup for Debian 11</a></li></ul></li><li><a href="/notary/update-Komodo-manually.html" class="sidebar-link">How to Update Komodo</a></li><li><a href="/notary/split-utxo-for-notarization.html" class="sidebar-link">How to Split UTXOs</a></li><li><a href="/notary/useful-commands-Komodo-Notary-Node.html" class="sidebar-link">Useful Commands for Notary Node Ops</a></li><li><a href="/notary/generate-privkeys-third-party-coins-from-passphrase.html" class="sidebar-link">How to Generate Addresses and Private Keys for 3rd Party Coins</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="setup-komodo-notary-node"><a href="#setup-komodo-notary-node" class="header-anchor">#</a> Setup Komodo Notary Node</h1> <h2 id="nn-repo-quick-reference"><a href="#nn-repo-quick-reference" class="header-anchor">#</a> NN Repo Quick Reference</h2> <div class="custom-block tip"><p class="custom-block-title">Disclaimer</p> <p>This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to <a href="https://github.com/KomodoPlatform/dPoW/blob/master/doc" target="_blank" rel="noopener noreferrer">https://github.com/KomodoPlatform/dPoW/blob/master/doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more recent updates.</p></div> <p>Traditionally, Komodo Notary Nodes have been setup using a &quot;Main&quot; and &quot;Third party&quot; server. The &quot;Main&quot; server is used to notarize KMD and Antara smart chains, and the &quot;Third party&quot; server is used to notarize coins from external projects.
Beginning in season 7, the Komodo Notary Node network will allow running the old &quot;Third party&quot; node on the same server as the &quot;Main&quot; node. Though operators may use alternative methods of virtualisation such as proxmox, this guide will focus on using docker containers to run the &quot;Third party&quot; daemons.</p> <p>The steps for setting up your nodes are as follows:</p> <ul><li>Secure your Server</li> <li>Install KMD and LTC Deamons, then launch them, import the private key linked to your &quot;Main&quot; elected pubkey, and let them sync. and let them sync (this may take a couple of days).</li> <li>Launch the other &quot;Main&quot; server chains, import the private key linked to your &quot;Main&quot; elected pubkey, and let them sync.</li> <li>Setup the 3rd Party docker containers, import the private key linked to your &quot;3P&quot; elected pubkey, and let them sync.</li> <li>Install and configure Iguana</li></ul> <p>Some additional tips will be included at the end of the guide to help with node management and maintainence.</p> <p>If you face problems, please join the <code>#notarynode</code> channel on the <a href="https://komodoplatform.com/discord" target="_blank" rel="noopener noreferrer">Komodo Discord Server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for help.</p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>We recommend the Notary Node Operators to check the Table at <a href="https://github.com/KomodoPlatform/dPoW/tree/season-seven#dpow-asset-status" target="_blank" rel="noopener noreferrer">https://github.com/KomodoPlatform/dPoW/tree/season-seven#dpow-asset-status<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for latest information on the repositories and branches/commits to use for installing chains. If there is contradicting information in this document, treat the information within the dPoW reopsitory as the point of truth. Using the <strong>exact</strong> repository and branch/tag listed is very important for the security of the network.</p></div> <h2 id="minimum-system-requirements"><a href="#minimum-system-requirements" class="header-anchor">#</a> Minimum System Requirements</h2> <p>Notary nodes <strong>must</strong> be run on a dedicated server in a Tier 3 datacenter. Running on a local desktop PC or VPS is not allowed. The minimum system requirements are as follows:</p> <ul><li><strong>OS:</strong> Debian/Ubuntu LTS x64 - minimal installation with Openssh server (recommended).</li> <li><strong>CPU:</strong> A High-Performance CPU (e.g. Xeon, i7/i9, Ryzen, EPYC, etc.) with 8+ Cores</li> <li><strong>RAM:</strong> 64GB+ RAM</li> <li><strong>HDD:</strong> 1TB+ (SSD is recommended)</li> <li><strong>Bandwidth</strong>: 100 Mbps or higher</li> <li><strong>Location</strong>: Within the region where you were elected.</li></ul> <p>This guide assumes you are using Ubuntu 20.04 LTS. If using Debian 11, scroll to the bottom of this guide for notes on required dependencies and build scripts.</p> <hr> <h2 id="creating-notary-pubkeys"><a href="#creating-notary-pubkeys" class="header-anchor">#</a> Creating notary pubkeys</h2> <p>Once you have been elected as a notary node operator, you will need to generate your notary pubkeys and register them with the Komodo Team via your proposal on <a href="https://github.com/KomodoPlatform/NotaryNodes" target="_blank" rel="noopener noreferrer">https://github.com/KomodoPlatform/NotaryNodes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> soon after the election, so they can be included in the Komodo codebase for the next hardfork.</p> <p>Notary node operators have to provide 2 seperate pubkeys, one for your Main Server and one for your 3rd Party Server. This means you will have to generate 2 seed phrases (i.e passphrases) individually which will each be linked to a pubkey, and a set of addresses and private keys (WIF).</p> <p><strong>DO NOT IMPORT YOUR MAIN PUBKEY INTO ANY 3RD PARTY DAEMON. For security, you should never enter your seed phrase or private key in any other node than your specific notary node server. If you ever expose a private key for any particular coin, it can be converted to all other coins easily.</strong></p> <h3 id="generating-a-pubkey"><a href="#generating-a-pubkey" class="header-anchor">#</a> Generating a pubkey</h3> <p>Your pubkey will start with <code>02</code> or <code>03</code>. Follow <a href="/notary/generate-privkeys-third-party-coins-from-passphrase.html">this guide</a> to generate all the required info in your own server. You will need the &quot;Compressed Public Key&quot;, &quot;Compressed WIF&quot; and &quot;Compressed Address&quot; from the output generated by the script. Based on the default seed used in the <code>genkomodo.php</code> file, we get the following information:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Pubkey: 02a854251adfee222bede8396fed0756985d4ea905f72611740867c7a4ad6488c1
LTC Address: LfK5cYTTSDoSVSYtxkTVv8dGnqXYZRsn86
LTC WIF: 6vCN7rsS1bPFgs98G2PQgcHP2EArh39Un1QDh16YrPrJxCZTthq
KMD Address: RVNKRr2uxPMxJeDwFnTKjdtiLtcs7UzCZn
KMD WIF: UtrRXqvRFUAtCrCTRAHPH6yroQKUrrTJRmxt2h5U4QTUN1jCxTAh
EMC2 Address: EdF2quz8nWrJDwTbbTTieFYUMGfPsVB5dv
EMC2 WIF: T7trfubd9dBEWe3EnFYfj1r1pBueqqCaUUVKKEvLAfQvz3JFsNhs
AYA Address: AVjkMgFfmMZbpFvmTxCcxadnD6g1EdQue3
AYA WIF: T6oxgc9ZYJA1Uvsm31Gb8Mg31hHgLWue7RuqQMjEHUWZEi5TdskL
</code></pre></div><p>CHIPS, all Komodo Smart Chains and Komodo source forks like MCL, TOKEL and VRSC use the same address and WIF format as Komodo (KMD).</p> <h3 id="do-not-keep-your-seed-phrase-or-private-keys-saved-in-your-local-computer-never-import-it-into-any-other-apps"><a href="#do-not-keep-your-seed-phrase-or-private-keys-saved-in-your-local-computer-never-import-it-into-any-other-apps" class="header-anchor">#</a> <strong>Do not keep your seed phrase or private keys saved in your local computer! Never import it into any other apps!</strong></h3> <p>If your notary seed or private keys are compromised, it not only places your server and notary funds at risk, but may also compromise the security of the entire dPoW network. <strong>If you ever suspect that your seed or private keys have been compromised, you should immediately contact the Komodo Team so steps can be taken to mitigate any potential threats.</strong></p> <p>It is recommended that you write down the randomly generated seed (24 words) in a piece of paper (or use a rugged physical backup like CryptoSteel), then type directly into your server, or generate the seed phrase on the server itself with a tool like <a href="https://github.com/smk762/DragonhoundTools/blob/master/wallet/gen_seed.py" target="_blank" rel="noopener noreferrer">https://github.com/smk762/DragonhoundTools/blob/master/wallet/gen_seed.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <hr> <h2 id="security"><a href="#security" class="header-anchor">#</a> Security</h2> <p><strong>Before doing anything further, ensure that your server is secure.</strong></p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>In the examples below, I will use the username <code>dragonhound</code>. Please replace this with your own username.
Make sure to use a password manager like <a href="https://keepassxc.org/" target="_blank" rel="noopener noreferrer">KeePassXC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to generate and store your sudo passwords an SSH keys, and backup your password database to a secure location so you dont lose access to your server if your desktop/laptop fails.</p></div> <ul><li><p><strong>Update the system</strong>: <code>sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</code></p></li> <li><p><strong><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04" target="_blank" rel="noopener noreferrer">Create a new user &amp; give it <code>sudo</code> permissions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>adduser dragonhound <span class="token comment"># to add a new user</span>
<span class="token function">passwd</span> dragonhound <span class="token comment"># set a password for new user</span>
<span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">sudo</span> dragonhound <span class="token comment"># to give the user sudo permissions</span>
<span class="token function">su</span> - dragonhound <span class="token comment"># to switch to the new user</span>
</code></pre></div></li> <li><p><strong>Install <a href="https://linuxize.com/post/install-configure-fail2ban-on-ubuntu-20-04/" target="_blank" rel="noopener noreferrer">Fail2ban<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> with  <code>sudo apt install fail2ban</code>. It will start automatically after installation.</p></li> <li><p><strong>Install <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04" target="_blank" rel="noopener noreferrer">UFW<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> (make sure to allow SSH access <strong>before</strong> enabling the firewall).</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ufw
<span class="token function">sudo</span> ufw allow OpenSSH
<span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span>
</code></pre></div></li> <li><p><strong><a href="https://www.unixtutorial.org/how-to-generate-ed25519-ssh-key/" target="_blank" rel="noopener noreferrer">Create an SSH key<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> on your PC, then add the public SSH key to the server. This will allow you to login without a password. Repeat this step for each device you will use to access the server. For example:</p> <ul><li>Create an ED25519 SSH key (e.g. on your laptop) with <code>ssh-keygen -t ed25519 -C &quot;dragonhound@laptop&quot;</code></li> <li>View the public key with <code>cat ~/.ssh/id_ed25519.pub</code>.</li> <li>It will look like <code>ssh-ed25519 AAAAC3NzaC1lZD42STE5AAAAIK0wmN/Cr3JXqmLW7u+g9pTh+wyqDHpSQEIQczXkVx9q dragonhound@laptop</code></li></ul></li> <li><p><strong>Add the SSH key to your server</strong>:</p> <ul><li>On the server, create a <code>.ssh</code> folder in your home directory with <code>mkdir ~/.ssh</code></li> <li>Create a file to contain authorized keys with <code>nano ~/.ssh/authorized_keys</code></li> <li>Paste the public key into the file, then save and exit.</li> <li>Restrict file permissions with <code>sudo chmod 600 ~/.ssh/authorized_keys</code> and <code>sudo chmod 700 ~/.ssh</code></li> <li>To confirm that the key works, open a new terminal on your desktop/laptop and run <code>ssh dragonhound@&lt;SERVER_IP&gt;</code>. If everything is working, you should be logged in without being asked for a password.</li></ul></li> <li><p><strong><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-20-04#disabling-password-authentication-on-your-server" target="_blank" rel="noopener noreferrer">Disable password authentication<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li><strong>Make sure you have added your SSH key to the server and confirmed it is working before doing this!</strong></li> <li>Open the SSH daemon config file with <code>sudo nano /etc/ssh/sshd_config</code></li> <li>Find the line that says <code>#PasswordAuthentication yes</code> and change it to <code>PasswordAuthentication no</code> then save and exit the file.</li> <li>Restart the SSH daemon with <code>sudo systemctl restart sshd</code></li></ul></li> <li><p><strong><a href="https://www.howtogeek.com/howto/linux/security-tip-disable-root-ssh-login-on-linux/" target="_blank" rel="noopener noreferrer">Disable <code>root</code> login<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li>Open the SSH daemon config file with <code>sudo nano /etc/ssh/sshd_config</code></li> <li>Set <code>PermitRootLogin no</code> then save and exit the file</li> <li>Restart the SSH daemon with <code>sudo systemctl restart sshd</code></li></ul></li> <li><p><strong><a href="https://www.digitalocean.com/community/tutorial_collections/how-to-add-swap-space" target="_blank" rel="noopener noreferrer">Add 32GB of swap space<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li>View existing swap space with <code>sudo swapon --show</code>, existing physical an virtual memory with <code>free -h</code>, and disk space with <code>df -h</code>.</li> <li>Create a 32GB swap file with <code>sudo fallocate -l 32G /swapfile</code></li> <li>Restrict swap file permissions to root only with <code>sudo chmod 600 /swapfile</code></li> <li>Mark the file as swap space with <code>sudo mkswap /swapfile</code></li> <li>Activate the swap file with <code>sudo swapon /swapfile</code></li> <li>Verify that the swap space is active with <code>sudo swapon --show</code> and <code>free -h</code></li> <li>To make the swap file permanent, we'll edit the <code>fstab</code> file.
- First, backup the <code>fstab</code> file with <code>sudo cp /etc/fstab /etc/fstab.bak</code>
- Update it with <code>echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab</code></li> <li>Now your swap space should be retained after rebooting.</li></ul></li> <li><p><strong><a href="https://linuxhandbook.com/change-ssh-port/" target="_blank" rel="noopener noreferrer">Change the SSH port<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> (optional, but recommended)</p> <ul><li>Open the ssh daemon config file with <code>sudo nano /etc/ssh/sshd_config</code></li> <li>Change the <code>Port</code> value to something other than <code>22</code> (e.g. <code>Port 2222</code>)</li> <li>Allow the new port in the firewall <code>sudo ufw allow 2222 comment ssh</code></li> <li>Save and exit the file, then restart the SSH service with <code>sudo systemctl restart sshd</code></li> <li>Test the new port with <code>ssh dragonhound@&lt;SERVER_IP&gt; -p 2222</code></li></ul></li></ul> <hr> <h2 id="additional-configuration-tweaks"><a href="#additional-configuration-tweaks" class="header-anchor">#</a> Additional Configuration Tweaks</h2> <p>The steps below are optional, but recommended to give your node a better chance of performing well based on the experiences of prior season Natary Node Operators.</p> <h3 id="set-ulimit-parameters-on-ubuntu-permanently"><a href="#set-ulimit-parameters-on-ubuntu-permanently" class="header-anchor">#</a> Set <code>ulimit</code> parameters on Ubuntu permanently</h3> <p>By default, the number of open files per user in Ubuntu is 1024. In our case this number is too small so we will increase it.</p> <p>This is done with the <code>ulimit</code> command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-a</span>   <span class="token comment"># see all the kernel parameters</span>
<span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span>   <span class="token comment"># see the number of open files</span>
<span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span> <span class="token number">1000000</span>  <span class="token comment">#  set the number open files to 1000000</span>
</code></pre></div><p>This will only set the <code>ulimit</code> parameters for the current command terminal and user, meaning that after a reboot you’ll need to set the parameter again. Do the following to set it permanently:</p> <ul><li><p>Edit the <code>/etc/security/limits.conf</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/security/limits.conf
</code></pre></div></li> <li><p>Add these lines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>* soft nofile <span class="token number">1000000</span>
* hard nofile <span class="token number">1000000</span>
</code></pre></div></li> <li><p>Save and close file</p></li></ul> <h3 id="set-pam-limits-to-required"><a href="#set-pam-limits-to-required" class="header-anchor">#</a> Set <code>pam_limits</code> to <code>required</code></h3> <p>Linux uses PAM (pluggable authentication modules) in the authentication process as a layer that mediates between user and application. The <code>pam_limits</code> PAM module sets limits on the system resources that can be obtained in a user-session.</p> <ul><li><p>Edit the <code>/etc/pam.d/common-session</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/pam.d/common-session
</code></pre></div></li> <li><p>Add this line:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>session required pam_limits.so
</code></pre></div></li> <li><p>Save and close the file.</p></li></ul> <p>We're done! Now let's stop all our wallet daemons safely with RPC commands and reboot the server using <code>sudo reboot</code> or <code>sudo shutdown -r</code> command. After the reboot, log back in and check the <code>ulimit</code> parameters again.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span>
</code></pre></div><hr> <h2 id="install-iguana-coin-daemons"><a href="#install-iguana-coin-daemons" class="header-anchor">#</a> Install Iguana &amp; Coin Daemons</h2> <p>The daemons will take a couple of days to sync, so it's best to get them started as soon as possible. If you encounter any errors, please join the <code>#notarynode</code> channel on the <a href="https://komodoplatform.com/discord" target="_blank" rel="noopener noreferrer">Komodo Discord Server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for help.</p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p><code>-j$(nproc)</code> uses all the available processor threads while compiling. If you don't want to use all threads, you may specify the number directly like so: <code>-j8</code> will use only 8 threads. Alternatively, you may like to use <code>-j$(expr $(nproc) - 1)</code>, which will use all the available processors except one.</p></div> <ul><li><p><strong>Install dependencies:</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential pkg-config libc6-dev m4 g++-multilib autoconf libtool ncurses-dev <span class="token function">unzip</span> <span class="token function">git</span> python3 python3-zmq zlib1g-dev <span class="token function">wget</span> libcurl4-gnutls-dev bsdmainutils automake <span class="token function">curl</span> libsodium-dev jq libfmt-dev autotools-dev cmake clang <span class="token function">htop</span> libevent-dev libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-program-options-dev libboost-test-dev libboost-thread-dev libssl-dev libnanomsg-dev <span class="token parameter variable">-y</span>
</code></pre></div></li></ul> <hr> <h2 id="install-iguana"><a href="#install-iguana" class="header-anchor">#</a> Install Iguana</h2> <p>Iguana is the software used to perform notarizations, and needs to be installed from the <a href="https://github.com/KomodoPlatform/dPoW" target="_blank" rel="noopener noreferrer">dPoW<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> repository.</p> <ul><li><p><strong>Clone the dPoW repository and build Iguana</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token comment"># Clone repository</span>
<span class="token function">git</span> clone https://github.com/KomodoPlatform/dPoW <span class="token parameter variable">-b</span> season-seven
<span class="token builtin class-name">cd</span> dPoW/iguana
<span class="token comment"># Build Iguana</span>
<span class="token function">make</span>
</code></pre></div></li> <li><p><strong>Create pubkey files</strong>:
Iguana will reference these files when launching to validate your node as an elected notary.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;pubkey=&lt;YOUR_MAIN_PUBKEY&gt;&quot;</span> <span class="token operator">&gt;</span> ~/dPoW/iguana/pubkey.txt
<span class="token builtin class-name">echo</span> <span class="token string">&quot;pubkey=&lt;YOUR_3P_PUBKEY&gt;&quot;</span> <span class="token operator">&gt;</span> ~/dPoW/iguana/pubkey_3p.txt
</code></pre></div></li> <li><p><strong>Create <code>wp</code> files</strong>:</p> <ul><li>These files will be used to unlock your wallets when Iguana launches, and are named according to the iguana port they are targeting. The contents will include your seed phrase (or a private key) from the Main or 3P coins you want to unlock for notarisation.</li> <li>The Main Iguana uses port 7776. Create a file called <code>~/dPoW/iguana/wp_7776</code> and add the contents as below:</li></ul></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">--url</span> <span class="token string">&quot;http://127.0.0.1:7776&quot;</span> <span class="token parameter variable">--data</span> <span class="token string">'{
    &quot;method&quot;: &quot;walletpassphrase&quot;,
    &quot;params&quot;: [&quot;YOUR_MAIN_SEEDPHRASE_OR_PRIVATE_KEY&quot;, 9999999]
}'</span>
</code></pre></div><ul><li>The Third Party Iguana uses port 7779. Create a file called <code>~/dPoW/iguana/wp_7779</code> and add the contents as below:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">--url</span> <span class="token string">&quot;http://127.0.0.1:7779&quot;</span> <span class="token parameter variable">--data</span> <span class="token string">'{
    &quot;method&quot;: &quot;walletpassphrase&quot;,
    &quot;params&quot;: [&quot;YOUR_3P_SEEDPHRASE_OR_PRIVATE_KEY&quot;, 9999999]
}'</span>
</code></pre></div><ul><li>Restrict file permissions and make executable:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">700</span> ~/dPoW/iguana/wp_7776
<span class="token function">chmod</span> <span class="token number">700</span> ~/dPoW/iguana/wp_7779
</code></pre></div><hr> <h2 id="install-kmd"><a href="#install-kmd" class="header-anchor">#</a> Install KMD</h2> <ul><li><p>Go to home folder <code>cd ~</code></p></li> <li><p>Clone repo: <code>git clone https://github.com/KomodoPlatform/komodo -b master</code></p></li> <li><p>Enter repo folder <code>cd komodo</code></p></li> <li><p>Fetch Zcash params: <code>./zcutil/fetch-params.sh</code></p></li> <li><p>Build Komodo: <code>./zcutil/build.sh -j$(nproc)</code></p></li> <li><p>Create the data folder and a <code>komodo.conf</code> config file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">mkdir</span> .komodo
<span class="token function">nano</span> ~/.komodo/komodo.conf
</code></pre></div><p>Add the following lines to the <code>komodo.conf</code> file and save it (replace rpcuser and rpcpassword)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">rpcuser</span><span class="token operator">=</span>usernameChangeItToSomethingSecure
<span class="token assign-left variable">rpcpassword</span><span class="token operator">=</span>passwordChangeItToSomethingSecure
<span class="token assign-left variable">txindex</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">addressindex</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">spentindex</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">server</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">daemon</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">rpcworkqueue</span><span class="token operator">=</span><span class="token number">256</span>
<span class="token assign-left variable">rpcbind</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token assign-left variable">rpcallowip</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">7770</span>
<span class="token assign-left variable">rpcport</span><span class="token operator">=</span><span class="token number">7771</span>
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">15.235</span>.204.174 <span class="token comment"># Dragonhound_AR</span>
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">209.222</span>.101.247 <span class="token comment"># Dragonhound_NA</span>
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">103.195</span>.100.32 <span class="token comment"># Dragonhound_DEV</span>
</code></pre></div><p>Restrict access to the <code>komodo.conf</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">600</span> ~/.komodo/komodo.conf
</code></pre></div><p>symlink pubkey files to komodo directory:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/dPoW/iguana/pubkey.txt ~/komodo/src/pubkey.txt
<span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/dPoW/iguana/pubkey_3p.txt ~/komodo/src/pubkey_3p.txt
</code></pre></div></li></ul> <hr> <h2 id="install-ltc"><a href="#install-ltc" class="header-anchor">#</a> Install LTC</h2> <ul><li><p>Clone repo: <code>git clone https://github.com/litecoin-project/litecoin -b 0.16</code></p></li> <li><p>Enter repo folder <code>cd litecoin</code></p></li> <li><p>Create <code>build.sh</code> script with the following contents and give it executable permissions (<code>chmod +x build.sh</code>)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># LTC &amp; 3P Coins build script for Ubuntu &amp; Debian (c) Decker</span>
<span class="token function">make</span> <span class="token parameter variable">-C</span> <span class="token variable">${<span class="token environment constant">PWD</span>}</span>/depends <span class="token assign-left variable">v</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">NO_PROTON</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">NO_QT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">HOST</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>depends/config.guess<span class="token variable">)</span></span> -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span>
./autogen.sh
<span class="token assign-left variable">CXXFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-g0 -O2&quot;</span> <span class="token punctuation">\</span>
<span class="token assign-left variable">CONFIG_SITE</span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PWD</span>/depends/<span class="token variable"><span class="token variable">$(</span>depends/config.guess<span class="token variable">)</span></span>/share/config.site&quot;</span> ./configure --disable-tests --disable-bench --without-miniupnpc --enable-experimental-asm --with-gui<span class="token operator">=</span>no --disable-bip70
<span class="token function">make</span> <span class="token assign-left variable">V</span><span class="token operator">=</span><span class="token number">1</span> -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span>
</code></pre></div></li> <li><p>Execute <code>./build.sh</code> to compile the Litecoin binaries.</p></li> <li><p>Create the data folder and a <code>litecoin.conf</code> config file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">mkdir</span> .litecoin
<span class="token function">nano</span> ~/.litecoin/litecoin.conf
</code></pre></div></li> <li><p>Insert the following contents inside the <code>litecoin.conf</code> file and save it. (change the <code>rpcuser</code> and <code>rpcpassword</code> values)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">txindex</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">rpcport</span><span class="token operator">=</span><span class="token number">9332</span>
<span class="token assign-left variable">rpcuser</span><span class="token operator">=</span>litecoinrpcChangeThisToSomethingSecure
<span class="token assign-left variable">rpcpassword</span><span class="token operator">=</span>passwordChangeThisToSomethingSecure
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">15.235</span>.204.174 <span class="token comment"># Dragonhound_AR</span>
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">209.222</span>.101.247 <span class="token comment"># Dragonhound_NA</span>
<span class="token assign-left variable">addnode</span><span class="token operator">=</span><span class="token number">103.195</span>.100.32 <span class="token comment"># Dragonhound_DEV</span>
</code></pre></div></li> <li><p>Restrict access to the <code>litecoin.conf</code> file and <code>.litecoin</code> directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">600</span> ~/.litecoin/litecoin.conf
<span class="token function">chmod</span> <span class="token number">700</span> ~/.litecoin
</code></pre></div></li></ul> <hr> <h2 id="install-third-party-coins-daemons-in-docker"><a href="#install-third-party-coins-daemons-in-docker" class="header-anchor">#</a> Install Third Party coins daemons in Docker</h2> <p>Follow the instructions in <a href="https://github.com/smk762/notary_docker_3p#notary_docker_3p" target="_blank" rel="noopener noreferrer">https://github.com/smk762/notary_docker_3p#notary_docker_3p<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to setup the third party coins in docker.</p> <p>If you need help, please reach out to the Komodo Discord #notary-node channel.</p> <hr> <h2 id="create-symbolic-links-for-deamons-and-cli-s"><a href="#create-symbolic-links-for-deamons-and-cli-s" class="header-anchor">#</a> Create Symbolic Links for deamons and cli's</h2> <ul><li><p><strong>For the Main coins</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/komodo/src/komodod /usr/local/bin/komodod
<span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/komodo/src/komodo-cli /usr/local/bin/komodo-cli
<span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/litecoin/src/litecoind /usr/local/bin/litecoind
<span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> ~/litecoin/src/litecoin-cli /usr/local/bin/litecoin-cli
</code></pre></div></li></ul> <hr> <h2 id="launch-the-daemons"><a href="#launch-the-daemons" class="header-anchor">#</a> Launch the daemons</h2> <ul><li><p>First, create a start script with <code>nano start.sh</code> to start the main chains with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># Get our pubkey</span>
<span class="token builtin class-name">source</span> ~/komodo/src/pubkey.txt
<span class="token comment"># Start LTC</span>
litecoind <span class="token operator">&amp;</span>
<span class="token function">sleep</span> <span class="token number">60</span>
<span class="token comment"># Start KMD</span>
komodod <span class="token parameter variable">-gen</span> <span class="token parameter variable">-genproclimit</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-pubkey</span><span class="token operator">=</span><span class="token variable">$pubkey</span> <span class="token parameter variable">-minrelaytxfee</span><span class="token operator">=</span><span class="token number">0.000035</span> <span class="token parameter variable">-opretmintxfee</span><span class="token operator">=</span><span class="token number">0.004</span> <span class="token parameter variable">-notary</span><span class="token operator">=</span><span class="token string">&quot;.litecoin/litecoin.conf&quot;</span> <span class="token operator">&amp;</span>
<span class="token function">sleep</span> <span class="token number">600</span>
<span class="token comment"># Start all other Main Smart Chains</span>
<span class="token builtin class-name">cd</span> ~/dPoW/iguana
./assetchains.old
</code></pre></div></li> <li><p>Save and exit the file, then make it executable with <code>chmod +x start.sh</code>. Now you can launch all the main chains with <code>./start.sh</code>!</p></li> <li><p>Launch the 3P dockerised daemons:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/notary_docker_3p
<span class="token comment"># To launch all deamons at once</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
<span class="token comment"># To launch a single coins deamon (use lowercase ticker)</span>
<span class="token function">docker-compose</span> up <span class="token operator">&lt;</span>TICKER<span class="token operator">&gt;</span> <span class="token parameter variable">-d</span>
</code></pre></div></li> <li><p><strong>Import your private keys</strong> to each coin daemon. Ensure that a space is added at the beginning of each command to prevent the key being saved to <code>~/.bash_history</code>.</p></li> <li><p>eg, <code>komodo-cli importprivkey &lt;KEY&gt;</code> will be saved to bash history, but <code>komodo-cli importprivkey &lt;KEY&gt;</code> will not.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># For Komodo</span>
 komodo-cli importprivkey <span class="token operator">&lt;</span>KMD_PRIVATE_KEY<span class="token operator">&gt;</span>
<span class="token comment"># For Litecoin</span>
 litecoin-cli importprivkey <span class="token operator">&lt;</span>KMD_PRIVATE_KEY<span class="token operator">&gt;</span>
<span class="token comment"># For individual main smart chains (replace &lt;TICKER&gt; with the smart chain ticker)</span>
 komodo-cli <span class="token parameter variable">-ac_name</span><span class="token operator">=</span><span class="token operator">&lt;</span>TICKER<span class="token operator">&gt;</span> importprivkey <span class="token operator">&lt;</span>KMD_PRIVATE_KEY<span class="token operator">&gt;</span>
<span class="token comment"># For all main smart chains</span>
<span class="token builtin class-name">cd</span> ~/dPoW/iguana
./listassetchains <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> chain<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$chain</span>
    komodo-cli <span class="token parameter variable">-ac_name</span><span class="token operator">=</span><span class="token variable">$chain</span> importprivkey <span class="token operator">&lt;</span>KMD_PRIVATE_KEY<span class="token operator">&gt;</span>
<span class="token keyword">done</span>
<span class="token comment"># For 3P deamons</span>
<span class="token string">&quot;Use the 3rd party coins' cli binaries to import the private keys for each coin.&quot;</span>
</code></pre></div></li> <li><p><strong>Check the sync status</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Check the status of the KMD sync process</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> ~/.komodo/debug.log
<span class="token comment"># Check the status of the LTC sync process</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> ~/.litecoin/debug.log
<span class="token comment"># Check the status of the Main smart chain sync process</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> ~/.komodo/<span class="token operator">&lt;</span>TICKER<span class="token operator">&gt;</span>/debug.log
<span class="token comment"># Check the status of the 3P smart chain sync process  (use lowercase ticker)</span>
<span class="token builtin class-name">cd</span> ~/notary_docker_3p
<span class="token function">docker</span> compose logs <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>TICKER<span class="token operator">&gt;</span> <span class="token parameter variable">--tail</span> <span class="token number">20</span>
</code></pre></div></li></ul> <p>The debug.log will have lines like:</p> <p><code>2023-06-15 09:08:05 UpdateTip: new best=0c01379c24db5055444983d447ce5af58a9ed50072b4a08a3fec0b151cf51213 height=3463643 log2_work=53.293613 tx=20987955 date=2023-06-15 09:08:06 progress=1.000000 cache=43.6MiB(143561tx)</code></p> <p>When you see <code>progress=1.000000</code>, the chain is in sync! This can take a while, so be patient.</p> <p>Once sync'd, we can confirm our private keys were correctly imported by using the <code>validateaddress</code> command with the KMD address linked to our private key. For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>komodo-cli validateaddress RDragoNHdwovvsDLSLMiAEzEArAD3kq6FN
</code></pre></div><p>This will return a JSON object with the address details. If the address is valid, you will see <code>&quot;ismine&quot;: true</code>.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;isvalid&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RDragoNHdwovvsDLSLMiAEzEArAD3kq6FN&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scriptPubKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;76a91432311a35188a9439c6c866e842564d6fefd3a02888ac&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;segid&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ismine&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iswatchonly&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isscript&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;038e010c33c56b61389409eea5597fe17967398731e23185c84c472a16fc5d34ab&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iscompressed&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h2 id="atomicdex-seed-node-setup-optional-but-recommended"><a href="#atomicdex-seed-node-setup-optional-but-recommended" class="header-anchor">#</a> AtomicDEX Seed node setup (optional, but recommended)</h2> <p>Simple scripts to setup and configure MM2 as a seednode on your 3P server are available at <a href="https://github.com/smk762/nn_mm2_seed" target="_blank" rel="noopener noreferrer">https://github.com/smk762/nn_mm2_seed<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The mm2 seed node will also need ports <code>38890</code> and <code>38900</code> opened on the 3p server.</p> <p><strong>This may be included in the 3P dockerised setup in the future.</strong></p> <hr> <h2 id="stop-all-coin-daemons-safely"><a href="#stop-all-coin-daemons-safely" class="header-anchor">#</a> Stop All Coin Daemons Safely</h2> <p>Once you've completed syncing, imported and validated your keys in all your daemons, we'll stop all the daemons for some final configuration.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Unless you are a fan of corrupt databases, <strong>never</strong> use <code>kill -9</code> to stop any Coin daemon. Always shutdown wallet daemon and iguana gracefully with <code>pkill -15 iguana</code> or use the commands below.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># To stop KMD</span>
komodo-cli stop
<span class="token comment"># To stop LTC</span>
litecoin-cli stop
<span class="token comment"># For all other Main Smart Chains</span>
<span class="token builtin class-name">cd</span> ~/komodo/src
./fiat-cli stop
<span class="token comment"># For individual 3P dockerised daemons</span>
<span class="token builtin class-name">cd</span> ~/nn_docker_3p
<span class="token function">docker</span> compose stop <span class="token operator">&lt;</span>TICKER<span class="token operator">&gt;</span> <span class="token comment"># Use lowercase ticker</span>
<span class="token comment"># For all 3P dockerised daemons</span>
<span class="token builtin class-name">cd</span> ~/nn_docker_3p
<span class="token function">docker</span> compose stop
</code></pre></div><hr> <h2 id="restrict-access-to-config-files"><a href="#restrict-access-to-config-files" class="header-anchor">#</a> Restrict access to config files</h2> <p>Once all the chains' daemons have stopped, let's restrict access to all the <code>.conf</code> files inside <code>~/.komodo</code> and <code>~/.komodo_3p</code>  folders</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">find</span> ~/.komodo <span class="token parameter variable">-type</span> f <span class="token parameter variable">-iname</span> <span class="token string">&quot;*.conf&quot;</span> <span class="token parameter variable">-exec</span> <span class="token function">chmod</span> <span class="token number">600</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token function">find</span> ~/.komodo_3p <span class="token parameter variable">-type</span> f <span class="token parameter variable">-iname</span> <span class="token string">&quot;*.conf&quot;</span> <span class="token parameter variable">-exec</span> <span class="token function">chmod</span> <span class="token number">600</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="address-whitelisting-optional-but-recommended"><a href="#address-whitelisting-optional-but-recommended" class="header-anchor">#</a> Address whitelisting (optional, but recommended)</h2> <p>If you are using a whitelist for incoming transactions (recommended to avoid dust attacks!) funding top ups will come from the dragonhound_DEV nodes using the addresses <code>RHi882Amab35uXjqBZjVxgEgmkkMu454KK</code> (Main), and <code>RLdmqsXEor84FC8wqDAZbkmJLpgf2nUSkq</code> (3P), so add these addresses to your respective whitelists. This can be done by:</p> <ul><li>Adding <code>-whitelistaddress=&lt;address&gt;</code> to your daemon launch strings, or</li> <li>Adding <code>whitelistaddress=&lt;address&gt;</code> to your daemon <code>conf</code> files</li></ul> <hr> <h2 id="create-start-script"><a href="#create-start-script" class="header-anchor">#</a> Create <code>start</code> Script</h2> <p>We need a <code>start</code> script in the home dir to start Komodo, Smart Chains and all 3rd party coin daemons with the <code>-pubkey</code> option. <code>-pubkey</code> is not required for LTC daemon, but other coins <strong>must</strong> be launched with it to be able to notarise.</p> <ul><li><p>You can also use the <code>setpubkey</code> command to set the pubkey for a running daemon. For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>komodo-cli setpubkey <span class="token operator">&lt;</span>pubkey<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>Alternatively, you can set the pubkey in your <code>conf</code> file to make sure it is set every time you launch a daemon. For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;pubkey=&lt;pubkey&gt;&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.komodo/komodo.conf
</code></pre></div></li> <li><p>Create and open a <code>start</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">nano</span> ~/start
</code></pre></div></li> <li><p>Add the following lines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># Get our pubkey</span>
<span class="token builtin class-name">source</span> ~/komodo/src/pubkey.txt
<span class="token comment"># Start LTC</span>
litecoind <span class="token operator">&amp;</span>
<span class="token function">sleep</span> <span class="token number">60</span>
<span class="token comment"># Start KMD</span>
komodod <span class="token parameter variable">-gen</span> <span class="token parameter variable">-genproclimit</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-pubkey</span><span class="token operator">=</span><span class="token variable">$pubkey</span> <span class="token parameter variable">-minrelaytxfee</span><span class="token operator">=</span><span class="token number">0.000035</span> <span class="token parameter variable">-opretmintxfee</span><span class="token operator">=</span><span class="token number">0.004</span> <span class="token parameter variable">-notary</span><span class="token operator">=</span><span class="token string">&quot;.litecoin/litecoin.conf&quot;</span> <span class="token operator">&amp;</span>
<span class="token function">sleep</span> <span class="token number">600</span>
<span class="token comment"># Start all other Main Smart Chains</span>
<span class="token builtin class-name">cd</span> ~/dPoW/iguana
./assetchains.old
</code></pre></div></li> <li><p>Make the <code>start</code> file executable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> +x start
</code></pre></div></li></ul> <p>Note the KMD launch string includes some extra parameters:</p> <ul><li><code>-gen</code> - enables mining</li> <li><code>-genproclimit=1</code> - sets the number of threads to use for mining</li> <li><code>-minrelaytxfee=0.000035</code> - sets the minimum relay fee for transactions</li> <li><code>-opretmintxfee=0.004</code> - sets the minimum fee for OP_RETURN transactions</li> <li><code>-notary=&quot;.litecoin/litecoin.conf&quot;</code> - sets the location of the notary node's <code>litecoin.conf</code> file. <strong>This is required to be able to notarise KMD -&gt; LTC.</strong></li></ul> <h3 id="execute-the-start-script"><a href="#execute-the-start-script" class="header-anchor">#</a> Execute the <code>start</code> script</h3> <p>This may take up to 20-30 minutes before all chains are responsive (depending on your system spec).</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
./start
</code></pre></div><p>Don't forget to also restart the dockerised 3rd party daemons.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/nn_docker_3p
./start_3p.sh
</code></pre></div><hr> <h2 id="start-iguana-and-begin-notarising"><a href="#start-iguana-and-begin-notarising" class="header-anchor">#</a> Start <code>Iguana</code> and begin notarising</h2> <ul><li><strong>Notaries are responsible funding their Notary KMD addresses - funds for other chains will be provided from the Komodo team.</strong></li> <li>All notary addresses on all dPoW coins (except KMD) will be funded at the start of a season, and periodically topped up as the season progresses.</li> <li>Please contact <code>smk</code> on Discord if you need a top up.</li> <li><strong>Notary funds are for notarisation only, and should not leave your notary addresses for any other purpose.</strong></li> <li>At the end of the season, any remaining funds are to be returned to <code>smk</code> for redistribution to the notaries elected for the next season.</li></ul> <p><strong>Make sure all daemons have started properly and are responding to RPC commands before starting Iguana.</strong></p> <ul><li><p>To start notarising the Main coins, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/dPoW/iguana
./m_notary_main
</code></pre></div></li> <li><p>To start notarising the 3rd party coins, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/dPoW/iguana
./m_notary_3rdparty_docker
</code></pre></div></li></ul> <p>This will take a few minutes to add peer notaries, and register the coin daemons with Iguana. You will see <code>INIT with 64 notaries</code> once the process finishes.</p> <hr> <h2 id="firewall-and-ports"><a href="#firewall-and-ports" class="header-anchor">#</a> Firewall and Ports</h2> <p>Enable <code>ufw</code> and close all routes except <code>ssh</code>. Create rules to allow the following:</p> <ul><li>Each daemon's P2P port. You can find these in the daemon's <code>conf</code> file, or by looking at the response from <code>sudo netstat -plant</code>.</li> <li>Iguana's Main P2P port (13348)</li> <li>Iguana's 3P P2P port (13345)</li> <li>AtomicDEX API P2P ports (38890 &amp; 38900)</li></ul> <p>For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Main ports</span>
<span class="token function">sudo</span> ufw allow <span class="token number">7770</span> comment <span class="token string">'KMD Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">9333</span> comment <span class="token string">'LTC Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">20848</span> comment <span class="token string">'CCL Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">20931</span> comment <span class="token string">'CLC Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">23225</span> comment <span class="token string">'GLEEC Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">12985</span> comment <span class="token string">'ILN Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">10701</span> comment <span class="token string">'KOIN Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">8426</span> comment <span class="token string">'NINJA Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">45452</span> comment <span class="token string">'PIRATE Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">11340</span> comment <span class="token string">'SUPERNET Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">36789</span> comment <span class="token string">'THC Main P2P'</span>
<span class="token comment"># Third party P2P ports</span>
<span class="token function">sudo</span> ufw allow <span class="token number">8770</span> comment <span class="token string">'KMD 3P P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">29404</span> comment <span class="token string">'TOKEL P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">33824</span> comment <span class="token string">'MCL P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">27485</span> comment <span class="token string">'VRSC P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">26001</span> comment <span class="token string">'AYA P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">57777</span> comment <span class="token string">'CHIPS P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">41878</span> comment <span class="token string">'EMC2 P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">41888</span> comment <span class="token string">'MIL P2P'</span>
<span class="token comment"># Iguana P2P ports</span>
<span class="token function">sudo</span> ufw allow <span class="token number">13348</span> comment <span class="token string">'Iguana Main P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">13345</span> comment <span class="token string">'Iguana 3P P2P'</span>
<span class="token comment"># AtomicDEX P2P ports</span>
<span class="token function">sudo</span> ufw allow <span class="token number">38890</span> comment <span class="token string">'AtomicDEX P2P'</span>
<span class="token function">sudo</span> ufw allow <span class="token number">38900</span> comment <span class="token string">'AtomicDEX P2P'</span>
</code></pre></div><p><strong>Make sure you dont expose any RPC ports! This may give the whole internet access to your deamons!</strong></p> <hr> <h2 id="nn-scripts"><a href="#nn-scripts" class="header-anchor">#</a> NN Scripts</h2> <p>There are many open sourced scripts for managing your Komodo Notary Node servers. If you're having trouble with something, you can have a look at <a href="https://github.com/KomodoPlatform/komodotools" target="_blank" rel="noopener noreferrer">these tools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or ask the other NN's, who will show you the scripts they use to overcome issues. With that being said, if you find a way to make a job easier or find a way to better the ecosystem, please let the rest of the NN OPs know, we would love to hear it.</p> <hr> <h2 id="setup-for-debian-11"><a href="#setup-for-debian-11" class="header-anchor">#</a> Setup for Debian 11</h2> <p>Install the following dependancies:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> tmux <span class="token function">dc</span> <span class="token function">bc</span> dnsutils speedtest-cli build-essential <span class="token function">git</span> libsodium-dev libssl-dev pkg-config autoconf automake bsdmainutils cmake <span class="token function">curl</span> g++-multilib <span class="token function">htop</span> libboost-all-dev libc6-dev libgtest-dev libtool m4 software-properties-common <span class="token function">unzip</span> <span class="token function">wget</span> zlib1g-dev binutils-dev clang jq libcurl4-openssl-dev libdb++-dev libevent-dev libexpat1-dev libgnutls28-dev libldns-dev liblzma-dev libnanomsg-dev libncurses-dev libprotobuf-dev libqrencode-dev libreadline-dev libunwind-dev ncurses-dev ntp ntpdate protobuf-compiler python3-pip
</code></pre></div><p>Use the template below to create build scripts for coins as needed:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># AnyCoin compile script (q) Decker, 2021-2022</span>
<span class="token function">make</span> <span class="token parameter variable">-C</span> <span class="token variable">${<span class="token environment constant">PWD</span>}</span>/depends <span class="token assign-left variable">v</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">NO_PROTON</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">NO_QT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">HOST</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>depends/config.guess<span class="token variable">)</span></span> -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span>
./autogen.sh
<span class="token assign-left variable">CXXFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-g0 -O2&quot;</span> <span class="token punctuation">\</span>
<span class="token assign-left variable">CONFIG_SITE</span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PWD</span>/depends/<span class="token variable"><span class="token variable">$(</span>depends/config.guess<span class="token variable">)</span></span>/share/config.site&quot;</span> ./configure --disable-tests --disable-bench --without-miniupnpc --enable-experimental-asm --with-gui<span class="token operator">=</span>no --disable-bip70
<span class="token function">make</span> <span class="token assign-left variable">V</span><span class="token operator">=</span><span class="token number">1</span> -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/komodoplatform/Documentation/edit/master/docs/notary/setup-Komodo-Notary-Node.md" target="_blank" rel="noopener noreferrer">Suggest an improvement for this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notary/update-Komodo-manually.html">
        How to Update Komodo
      </a>
      →
    </span></p></div> </main> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d7d5cb01.js" defer></script><script src="/assets/js/5.34627997.js" defer></script><script src="/assets/js/4.0f39c463.js" defer></script><script src="/assets/js/319.3faaf719.js" defer></script>
  </body>
</html>
