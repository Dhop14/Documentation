(window.webpackJsonp=window.webpackJsonp||[]).push([[321],{615:function(a,e,s){"use strict";s.r(e);var t=s(10),o=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"how-to-update-komodo-for-notary-nodes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-update-komodo-for-notary-nodes"}},[a._v("#")]),a._v(" How to update Komodo (for Notary Nodes)")]),a._v(" "),e("p",[a._v("Reboot your node (to start fresh).")]),a._v(" "),e("p",[a._v("If you have installed Komodo from it's source code already on your machine, and need to update to the latest version, follow the below steps.")]),a._v(" "),e("p",[a._v("Please follow each step carefully and don't skip to the next one until the previous step is successfully completed. If you have the "),e("code",[a._v("komodo daemon")]),a._v(" running, you can leave it running while updating if you have enough resources on your machine. If you prefer to stop it before updating, please use "),e("code",[a._v("~/komodo/src/komodo-cli stop")]),a._v(" to stop the daemon and proceed with the following steps to update.")]),a._v(" "),e("ul",[e("li",[a._v("Navigate to your komodo directory")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/komodo\n")])])]),e("ul",[e("li",[a._v("Make sure you don't have any changes made to the source and reset it. This will ensure clean source and shouldn't create issues while pulling the latest source in the next step.")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" reset "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--hard")]),a._v("\n")])])]),e("ul",[e("li",[a._v("Clean the source directory")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" clean\n")])])]),e("ul",[e("li",[a._v("Update the source. (If you have any changes made to the source code, this command may not pull the latest source. Please make sure you have followed the previous steps)")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" pull\n")])])]),e("ul",[e("li",[a._v("Compile the latest binary")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("./zcutil/build.sh -j"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("nproc"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),e("p",[a._v("Start your services as usual. If you didn't stop the deamon before compiling, please stop it using "),e("code",[a._v("~/komodo/src/komodo-cli stop")]),a._v(" and start again.")]),a._v(" "),e("h2",{attrs:{id:"how-to-resync"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-resync"}},[a._v("#")]),a._v(" How to resync")]),a._v(" "),e("p",[a._v("If you need to resync your Komodo chain from scratch, follow these steps:")]),a._v(" "),e("ul",[e("li",[a._v("Stop the Komodo daemon")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("~/komodo/src/komodo-cli stop\n")])])]),e("ul",[e("li",[a._v("Navigate to your "),e("code",[a._v(".komodo")]),a._v(" folder")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.komodo\n")])])]),e("ul",[e("li",[a._v("Remove the following files and directories")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" blocks chainstate debug.log komodostate db.log\n")])])]),e("p",[a._v("Go back to your home folder")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~\n")])])]),e("p",[a._v("Start Komodo and iguana as "),e("RouterLink",{attrs:{to:"/notary/setup-Komodo-Notary-Node.html"}},[a._v("described in the setup doc")])],1)])}),[],!1,null,null,null);e.default=o.exports}}]);